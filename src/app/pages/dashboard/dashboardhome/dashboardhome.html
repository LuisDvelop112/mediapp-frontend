<div class="dashboard">

  <h1 class="title">Â¡Hola, {{ userNombre }}!</h1>
  <p class="subtitle">AquÃ­ tienes un resumen de tus citas mÃ©dicas</p>

  <!-- TARJETAS PRINCIPALES -->
  <div class="main-cards">

    <div class="card">
      <p class="card-title">PrÃ³ximas Citas</p>
      <h2 class="number">{{ proximasCitas.length }}</h2>
      <p class="description">Esta semana ğŸ“†</p>
    </div>

    <div class="card">
      <p class="card-title">Citas Completadas</p>
      <h2 class="number">{{ citasCompletadas }}</h2>
      <p class="description">Este aÃ±o âœ…</p>
    </div>

    <div class="card">
      <p class="card-title">Profesionales</p>
      <h2 class="number">{{ totalProfesionales }}</h2>
      <p class="description">Diferentes especialistas ğŸ§‘â€âš•ï¸</p>
    </div>

    <div class="card">
      <p class="card-title">PrÃ³xima Cita</p>
      <h2 class="number">{{ siguienteCitaDias }}</h2>
      <p class="description">DÃ­as restantes â³</p>
    </div>

  </div>

  <!-- ACCIONES RÃPIDAS -->
  <div class="quick-actions">
    <button class="btn-primary" routerLink="/appointment/create">
      â• Agendar Nueva Cita
    </button>
  </div>

  <div class="content-grid">

    <!-- MIS CITAS -->
    <div class="my-appointments">
      <div class="header">
        <h3>Mis Citas</h3>

        <div class="tabs">
          <button class="active">PrÃ³ximas</button>
        </div>
      </div>

      <div *ngFor="let cita of proximasCitas" class="appointment">
        <div class="emoji-doc">ğŸ§‘â€âš•ï¸</div>

        <div class="info">
          <h4>Dr. {{ cita.medico?.nombre }} {{ cita.medico?.apellido }}</h4>
          <p>{{ cita.medico?.especialidad?.nombre }}</p>
          <p class="date">ğŸ“… {{ cita.fechaCita }} â€” {{ cita.horaCita }}</p>
        </div>

        <span 
          class="status"
          [ngClass]="{
            'success': cita.estado === 'CONFIRMADA',
            'pending': cita.estado === 'PROGRAMADA'
          }"
        >
          {{ cita.estado.toLowerCase() }}
        </span>

      </div>

    </div>

    <!-- MI PERFIL -->
    <div class="profile-box">
      <h3>Mi Perfil</h3>

      <div class="user-info">
        <div class="emoji-user">ğŸ‘¤</div>
        
        <div>
          <h4>{{ userNombre }} {{ userApellido }}</h4>
          <p>{{ userEmail }}</p>
          <p>No definido</p>
        </div>
      </div>

      <button class="btn-outline" routerLink="/profile/edit">âœï¸ Editar Perfil</button>
    </div>

  </div>

</div>
