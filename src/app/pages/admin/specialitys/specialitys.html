<div class="specialities-container">
  <h2>ğŸ©º AdministraciÃ³n de Especialidades</h2>

  <div class="actions">
    <button (click)="load()">ğŸ”„ Actualizar lista</button>
  </div>

  <!-- Formulario nueva especialidad -->
  <form (ngSubmit)="create()" class="new-form">
    <input type="text" placeholder="Nombre de especialidad"
           [(ngModel)]="nuevaEspecialidad.nombreEspecialidad" name="nombre" required />
    <input type="text" placeholder="DescripciÃ³n (opcional)"
           [(ngModel)]="nuevaEspecialidad.descripcion" name="descripcion" />
    <button type="submit">â• Agregar</button>
  </form>

  <div *ngIf="loading" class="loading">Cargando especialidades...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <table *ngIf="!loading && specialities.length > 0" class="specialities-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>DescripciÃ³n</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of specialities">
        <td>{{ s.idEspecialidad }}</td>
        <td>{{ s.nombreEspecialidad }}</td>
        <td>{{ s.descripcion || 'â€”' }}</td>
        <td [class.activa]="s.estado === 'ACTIVA'" [class.inactiva]="s.estado === 'INACTIVA'">
          {{ s.estado }}
        </td>
        <td>
          <button (click)="toggleState(s)">
            {{ s.estado === 'ACTIVA' ? 'Desactivar' : 'Activar' }}
          </button>
          <button class="delete" (click)="remove(s.idEspecialidad)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!loading && specialities.length === 0" class="empty">
    No hay especialidades registradas.
  </p>
</div>
