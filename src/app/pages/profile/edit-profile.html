<div class="edit-profile-container">
  <h2>Editar Perfil</h2>

  <form (ngSubmit)="handleSave()" #profileForm="ngForm">

    <div class="photo-section">
      <label class="photo-label">
        <img 
          [src]="formData.usuario.fotoPerfil || 'assets/profile-user.png'" 
          class="profile-photo"
        />
      </label>

      <input 
        type="url" 
        [(ngModel)]="formData.usuario.fotoPerfil" 
        name="fotoPerfil" 
        placeholder="Pega la URL de tu foto de perfil"
        class="input-url"
      />
      <p class="photo-hint">Pega la URL de una imagen</p>
    </div>

    <div class="form-grid">

      <div>
        <label>Nombre</label>
        <input 
          type="text"
          [(ngModel)]="formData.usuario.nombre"
          name="nombre"
          required
        />
      </div>

      <div>
        <label>Apellido</label>
        <input 
          type="text"
          [(ngModel)]="formData.usuario.apellido"
          name="apellido"
          required
        />
      </div>

      <div class="col-span-2">
        <label>Email</label>
        <input 
          type="email"
          [(ngModel)]="formData.usuario.email"
          name="email"
          required
        />
      </div>

      <div class="col-span-2">
        <label>Contraseña</label>
        <input 
          type="password"
          [(ngModel)]="formData.usuario.contrasena"
          name="contrasena"
          placeholder="Deja en blanco si no deseas cambiarla"
        />
        <small>Solo completa si deseas cambiar tu contraseña</small>
      </div>

      <div>
        <label>Teléfono</label>
        <input 
          type="tel"
          [(ngModel)]="formData.usuario.telefono"
          name="telefono"
        />
      </div>

      <div>
        <label>Dirección</label>
        <input 
          type="text"
          [(ngModel)]="formData.usuario.direccion"
          name="direccion"
        />
      </div>

      <div class="col-span-2">
        <label>Número de identificación</label>
        <input 
          type="text"
          [(ngModel)]="formData.numeroIdentificacion"
          name="numeroIdentificacion"
        />
      </div>

      <div>
        <label>Tipo de sangre</label>
        <input 
          type="text"
          [(ngModel)]="formData.tipoSangre"
          name="tipoSangre"
        />
      </div>

      <div>
        <label>Contacto de emergencia</label>
        <input 
          type="text"
          [(ngModel)]="formData.contactoEmergencia"
          name="contactoEmergencia"
        />
      </div>

      <div>
        <label>Teléfono emergencia</label>
        <input 
          type="text"
          [(ngModel)]="formData.telefonoEmergencia"
          name="telefonoEmergencia"
        />
      </div>

      <div class="col-span-2">
        <label>Alergias</label>
        <input 
          type="text"
          [(ngModel)]="formData.alergias"
          name="alergias"
        />
      </div>

      <div class="col-span-2">
        <label>Enfermedades crónicas</label>
        <input 
          type="text"
          [(ngModel)]="formData.enfermedadesCronicas"
          name="enfermedadesCronicas"
        />
      </div>

      <div class="col-span-2">
        <label>Medicamentos actuales</label>
        <input 
          type="text"
          [(ngModel)]="formData.medicamentosActuales"
          name="medicamentosActuales"
        />
      </div>

    </div>

    <div class="actions">
      <button type="submit" class="btn-primary">Guardar</button>
      <button type="button" class="btn-outline" (click)="handleCancel()">Cancelar</button>
    </div>

  </form>
</div>
